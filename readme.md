# decompress-request

> Decompress an incoming HTTP request if needed.

[![NPM](https://img.shields.io/npm/v/decompress-request.svg)](https://www.npmjs.com/package/decompress-request) [![Build Status](https://travis-ci.com/saasify-sh/decompress-request.svg?branch=master)](https://travis-ci.com/saasify-sh/decompress-request) [![JavaScript Style Guide](https://img.shields.io/badge/code_style-standard-brightgreen.svg)](https://standardjs.com)

Decompresses an incoming http request if it's gzipped, deflated or compressed with Brotli, otherwise just passes it through.

## Install

```bash
npm install --save decompress-request
```

## Usage

#### http.createServer

```js
const http = require('http')
const decompressRequest = require('decompress-request')

http.get('https://saasify.sh', (request) => {
	request = decompressRequest(request)
})
const http = require('http')

const server = http.createServer((req, res) => {
  req = decompressRequest(req)

  // The request stream is now guaranteed to be inflated / decompressed.
  // You can use it as you would in any http handler.
})

server.listen(3000)
```

#### Micro

```js
const http = require('http')
const micro = require('micro')
const decompressRequest = require('decompress-request')

const server = new http.Server(micro(async (req, res) => {
  const json = await micro.json(req, { limit: '100mb' })
  micro.send(res, 200, json)
}))

server.listen(3000)
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### decompressRequest

Decompresses an incoming HTTP request body stream if needed.

Type: `function (request): IncomingMessage`

-   `request` **IncomingMessage** 

## Related

-   [decompress-response](https://github.com/sindresorhus/decompress-response) - Same as this module but for handling http responses.

## License

MIT Â© [Saasify](https://saasify.sh)
